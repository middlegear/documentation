# The Movie Database (TMDB)

This document provides a comprehensive guide to the unofficial TMDB provider API, detailing the available routes, their usage, and response schemas.

### 1. Search

#### Endpoint

```plaintext
GET /api/tmdb/search
```

#### Description

This endpoint allows you to search for movies or TV shows based on a query.

#### Query Parameters

| Parameter | Type   | Description                           | Required? | Default |
| --------- | ------ | ------------------------------------- | --------- | ------- |
| `q`       | string | The search query for movies or shows. | Yes       | `''`    |
| `page`    | number | The page number of results to return. | No        | `1`     |
| `type`    | string | Type of media (`movie`, `tv`).        | Yes       | `''`    |

#### Example

```plaintext
/api/tmdb/search?q=avengers&page=1&type=movie
```

<details>
<summary>ðŸ“„ Response Schema</summary>

```json
{
  "hasNextPage": "boolean",
  "currentPage": "integer",
  "totalPages": "integer",
  "totalResults": "integer",
  "data": [
    {
      "tmdbId": "integer",
      "name": "string",
      "posterImage": {
        "small": "string",
        "medium": "string",
        "large": "string",
        "original": "string"
      },
      "coverImage": {
        "small": "string",
        "medium": "string",
        "large": "string",
        "original": "string"
      },
      "language": "string",
      "releaseDate": "string | null",
      "summary": "string | null",
      "genres": ["integer"],
      "rating": "float | null"
    }
  ]
}
```

</details>

---

### 2. Media Info

#### Endpoint

```plaintext
GET /api/tmdb/info/:mediaId
```

#### Description

Retrieves detailed information about a specific movie or TV show.

#### Path Parameters

| Parameter | Type   | Description               | Required? | Default |
| --------- | ------ | ------------------------- | --------- | ------- |
| `mediaId` | number | The TMDB ID of the media. | Yes       | `''`    |

#### Query Parameters

| Parameter | Type   | Description                    | Required? | Default |
| --------- | ------ | ------------------------------ | --------- | ------- |
| `type`    | string | Type of media (`movie`, `tv`). | Yes       | `''`    |

#### Example

```plaintext
/api/tmdb/info/550?type=movie
```

<details>
<summary>ðŸ“„ Response Schema</summary>

```json
{
  "data": {
    "tmdbId": "integer",
    "name": "string",
    "posterImage": {
      "small": "string",
      "medium": "string",
      "large": "string",
      "original": "string"
    },
    "coverImage": {
      "small": "string",
      "medium": "string",
      "large": "string",
      "original": "string"
    },
    "status": "string",
    "country": ["string"],
    "language": "string",
    "rating": "float | null",
    "genres": [
      {
        "id": "integer",
        "name": "string"
      }
    ],
    "budget": "integer | null",
    "collection": "string | null",
    "summary": "string | null",
    "releaseDate": "string | null"
  }
}
```

</details>

---

### 3. Trending

#### Endpoint

```plaintext
GET /api/tmdb/trending
```

#### Description

Retrieves trending movies or TV shows.

#### Query Parameters

| Parameter    | Type   | Description                               | Required? | Default |
| ------------ | ------ | ----------------------------------------- | --------- | ------- |
| `type`       | string | Type of media (`movie`, `tv`).            | Yes       | `''`    |
| `page`       | number | The page number of results to return.     | No        | `1`     |
| `timeWindow` | string | Time window for trending (`day`, `week`). | No        | `week`  |

#### Example

```plaintext
/api/tmdb/trending?type=movie&page=1&timeWindow=week
```

<details>
<summary>ðŸ“„ Response Schema</summary>

```json
{
  "hasNextPage": "boolean",
  "currentPage": "integer",
  "totalPages": "integer",
  "totalResults": "integer",
  "data": [
    {
      "tmdbId": "integer",
      "name": "string",
      "posterImage": {
        "small": "string",
        "medium": "string",
        "large": "string",
        "original": "string"
      },
      "coverImage": {
        "small": "string",
        "medium": "string",
        "large": "string",
        "original": "string"
      },
      "language": "string",
      "startDate": "string",
      "summary": "string",
      "genres": ["integer"],
      "rating": "float"
    }
  ]
}
```

</details>

---

### 4. Popular

#### Endpoint

```plaintext
GET /api/tmdb/popular
```

#### Description

Retrieves popular movies or TV shows.

#### Query Parameters

| Parameter | Type   | Description                           | Required? | Default |
| --------- | ------ | ------------------------------------- | --------- | ------- |
| `type`    | string | Type of media (`movie`, `tv`).        | Yes       | `''`    |
| `page`    | number | The page number of results to return. | No        | `1`     |

#### Example

```plaintext
/api/tmdb/popular?type=movie&page=1
```

<details>
<summary>ðŸ“„ Response Schema</summary>

```json
{
  "hasNextPage": "boolean",
  "currentPage": "integer",
  "totalPages": "integer",
  "totalResults": "integer",
  "data": [
    {
      "tmdbId": "integer",
      "name": "string",
      "posterImage": {
        "small": "string",
        "medium": "string",
        "large": "string",
        "original": "string"
      },
      "coverImage": {
        "small": "string",
        "medium": "string",
        "large": "string",
        "original": "string"
      },
      "language": "string",
      "releaseDate": "string",
      "summary": "string",
      "genres": ["integer"],
      "rating": "float"
    }
  ]
}
```

</details>

---

### 5. Top Rated

#### Endpoint

```plaintext
GET /api/tmdb/top
```

#### Description

Retrieves top-rated movies or TV shows.

#### Query Parameters

| Parameter | Type   | Description                           | Required? | Default |
| --------- | ------ | ------------------------------------- | --------- | ------- |
| `type`    | string | Type of media (`movie`, `tv`).        | Yes       | `''`    |
| `page`    | number | The page number of results to return. | No        | `1`     |

#### Example

```plaintext
/api/tmdb/top?type=movie&page=1
```

<details>
<summary>ðŸ“„ Response Schema</summary>

```json
{
  "hasNextPage": "boolean",
  "currentPage": "integer",
  "totalPages": "integer",
  "totalResults": "integer",
  "data": [
    {
      "tmdbId": "integer",
      "name": "string",
      "posterImage": {
        "small": "string",
        "medium": "string",
        "large": "string",
        "original": "string"
      },
      "coverImage": {
        "small": "string",
        "medium": "string",
        "large": "string",
        "original": "string"
      },
      "language": "string",
      "releaseDate": "string",
      "summary": "string",
      "genres": ["integer"],
      "rating": "float"
    }
  ]
}
```

</details>

---

### 6. Media Provider

#### Endpoint

```plaintext
GET /api/tmdb/get-provider/:tmdbId
```

#### Description

Retrieves provider information for a specific movie or TV show using the TMDB ID.

#### Path Parameters

| Parameter | Type   | Description               | Required? | Default |
| --------- | ------ | ------------------------- | --------- | ------- |
| `tmdbId`  | number | The TMDB ID of the media. | Yes       | `''`    |

#### Query Parameters

| Parameter | Type   | Description                    | Required? | Default |
| --------- | ------ | ------------------------------ | --------- | ------- |
| `type`    | string | Type of media (`movie`, `tv`). | Yes       | `''`    |

#### Example

```plaintext
/api/tmdb/get-provider/550?type=movie
```

<details>
<summary>ðŸ“„ Response Schema</summary>

```json
{
  "data": {
    "tmdbId": "integer",
    "name": "string",
    "posterImage": {
      "small": "string",
      "medium": "string",
      "large": "string",
      "original": "string"
    },
    "coverImage": {
      "small": "string",
      "medium": "string",
      "large": "string",
      "original": "string"
    },
    "status": "string",
    "country": ["string"],
    "language": "string",
    "rating": "float",
    "genres": [
      {
        "id": "integer",
        "name": "string"
      }
    ],
    "budget": "integer | null",
    "collection": "string | null",
    "summary": "string",
    "releaseDate": "string"
  },
  "providerResult": [
    {
      "id": "string",
      "title": "string",
      "quality": "string",
      "url": "string",
      "releaseDate": "string",
      "score": "integer"
    }
  ]
}
```

</details>

---

### 7. Airing TV

#### Endpoint

```plaintext
GET /api/tmdb/airing-tv
```

#### Description

Retrieves currently airing TV shows.

#### Query Parameters

| Parameter | Type   | Description                           | Required? | Default |
| --------- | ------ | ------------------------------------- | --------- | ------- |
| `page`    | number | The page number of results to return. | No        | `1`     |

#### Example

```plaintext
/api/tmdb/airing-tv?page=1
```

<details>
<summary>ðŸ“„ Response Schema</summary>

```json
{
  "hasNextPage": "boolean",
  "currentPage": "integer",
  "totalPages": "integer",
  "totalResults": "integer",
  "data": [
    {
      "tmdbId": "integer",
      "name": "string",
      "posterImage": {
        "small": "string",
        "medium": "string",
        "large": "string",
        "original": "string"
      },
      "coverImage": {
        "small": "string",
        "medium": "string",
        "large": "string",
        "original": "string"
      },
      "language": "string",
      "startDate": "string",
      "summary": "string",
      "genres": ["integer"],
      "rating": "float"
    }
  ]
}
```

</details>

---

### 8. TV Episodes

#### Endpoint

```plaintext
GET /api/tmdb/episodes/:tmdbId/:season
```

#### Description

Retrieves episodes for a specific TV show season.

#### Path Parameters

| Parameter | Type   | Description                       | Required? | Default |
| --------- | ------ | --------------------------------- | --------- | ------- |
| `tmdbId`  | number | The TMDB ID of the TV show.       | Yes       | `''`    |
| `season`  | number | The season number of the TV show. | Yes       | `''`    |

#### Example

```plaintext
/api/tmdb/episodes/1399/1
```

<details>
<summary>ðŸ“„ Response Schema</summary>

```json
{
  "data": [
    {
      "airDate": "string",
      "episodeNumber": "integer",
      "episodeType": "string",
      "episodeId": "integer",
      "title": "string",
      "summary": "string",
      "rating": "float",
      "seasonNumber": "integer",
      "tmdbId": "integer",
      "runtime": "integer",
      "images": {
        "small": "string",
        "medium": "string",
        "large": "string",
        "original": "string"
      }
    }
  ]
}
```

</details>

---

### 9. Episode Info

#### Endpoint

```plaintext
GET /api/tmdb/episode-info/:tmdbId/:seasonNumber/:episodeNumber
```

#### Description

Retrieves detailed information about a specific episode of a TV show.

#### Path Parameters

| Parameter       | Type   | Description                           | Required? | Default |
| --------------- | ------ | ------------------------------------- | --------- | ------- |
| `tmdbId`        | number | The TMDB ID of the TV show.           | Yes       | `''`    |
| `seasonNumber`  | number | The season number of the TV show.     | Yes       | `''`    |
| `episodeNumber` | number | The episode number within the season. | Yes       | `''`    |

#### Example

```plaintext
/api/tmdb/episode-info/1399/1/1
```

<details>
<summary>ðŸ“„ Response Schema</summary>

```json
{
  "data": {
    "airDate": "string",
    "title": "string",
    "summary": "string",
    "rating": "float",
    "seasonNumber": "integer",
    "id": "integer",
    "runtime": "integer",
    "images": {
      "small": "string",
      "medium": "string",
      "large": "string",
      "original": "string"
    }
  }
}
```

</details>

---

### 10. Releasing Movies

#### Endpoint

```plaintext
GET /api/tmdb/releasing
```

#### Description

Retrieves movies that are currently releasing.

#### Query Parameters

| Parameter | Type   | Description                           | Required? | Default |
| --------- | ------ | ------------------------------------- | --------- | ------- |
| `page`    | number | The page number of results to return. | No        | `1`     |

#### Example

```plaintext
/api/tmdb/releasing?page=1
```

<details>
<summary>ðŸ“„ Response Schema</summary>

```json
{
  "hasNextPage": "boolean",
  "currentPage": "integer",
  "totalPages": "integer",
  "totalResults": "integer",
  "data": [
    {
      "tmdbId": "integer",
      "name": "string",
      "posterImage": {
        "small": "string",
        "medium": "string",
        "large": "string",
        "original": "string"
      },
      "coverImage": {
        "small": "string",
        "medium": "string",
        "large": "string",
        "original": "string"
      },
      "language": "string",
      "releaseDate": "string",
      "summary": "string",
      "genres": ["integer"],
      "rating": "float"
    }
  ]
}
```

</details>

---

### 11. Upcoming Movies

#### Endpoint

```plaintext
GET /api/tmdb/upcoming
```

#### Description

Retrieves upcoming movies.

#### Query Parameters

| Parameter | Type   | Description                           | Required? | Default |
| --------- | ------ | ------------------------------------- | --------- | ------- |
| `page`    | number | The page number of results to return. | No        | `1`     |

#### Example

```plaintext
/api/tmdb/upcoming?page=1
```

<details>
<summary>ðŸ“„ Response Schema</summary>

```json
{
  "hasNextPage": "boolean",
  "currentPage": "number",
  "totalPages": "number",
  "totalResults": "number",
  "data": [
    {
      "tmdbId": "number",
      "name": "string",
      "posterImage": {
        "small": "string",
        "medium": "string",
        "large": "string",
        "original": "string"
      },
      "coverImage": {
        "small": "string",
        "medium": "string",
        "large": "string",
        "original": "string"
      },
      "language": "string",
      "releaseDate": "string",
      "summary": "string",
      "genres": ["number"],
      "rating": "number"
    }
  ]
}
```

</details>
